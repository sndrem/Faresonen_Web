{"version":3,"sources":["../../src/config/winston.js"],"names":["appRoot","require","winston","options","file","level","filename","handleExceptions","json","maxsize","maxFiles","colorize","console","logger","createLogger","transports","File","Console","exitOnError","stream","write","message","encoding","info","module","exports"],"mappings":";;AAAA,IAAIA,UAAUC,QAAQ,eAAR,CAAd;AACA,IAAIC,UAAUD,QAAQ,SAAR,CAAd;;AAEA,IAAIE,UAAU;AACZC,QAAM;AACJC,WAAO,MADH;AAEJC,cAAaN,OAAb,kBAFI;AAGJO,sBAAkB,IAHd;AAIJC,UAAM,IAJF;AAKJC,aAAS,OALL,EAKc;AAClBC,cAAU,CANN;AAOJC,cAAU;AAPN,GADM;AAUZC,WAAS;AACPP,WAAO,OADA;AAEPE,sBAAkB,IAFX;AAGPC,UAAM,KAHC;AAIPG,cAAU;AAJH;AAVG,CAAd;;AAkBA,IAAIE,SAASX,QAAQY,YAAR,CAAqB;AAChCC,cAAY,CACV,IAAIb,QAAQa,UAAR,CAAmBC,IAAvB,CAA4Bb,QAAQC,IAApC,CADU,EAEV,IAAIF,QAAQa,UAAR,CAAmBE,OAAvB,CAA+Bd,QAAQS,OAAvC,CAFU,CADoB;AAKhCM,eAAa,KALmB,CAKb;AALa,CAArB,CAAb;;AAQAL,OAAOM,MAAP,GAAgB;AACdC,SAAO,eAASC,OAAT,EAAkBC,QAAlB,EAA4B;AACjCT,WAAOU,IAAP,CAAYF,OAAZ;AACD;AAHa,CAAhB;;AAMAG,OAAOC,OAAP,GAAiBZ,MAAjB","file":"winston.js","sourcesContent":["var appRoot = require(\"app-root-path\");\nvar winston = require(\"winston\");\n\nvar options = {\n  file: {\n    level: \"info\",\n    filename: `${appRoot}/logs/app.log`,\n    handleExceptions: true,\n    json: true,\n    maxsize: 5242880, // 5MB\n    maxFiles: 5,\n    colorize: false\n  },\n  console: {\n    level: \"debug\",\n    handleExceptions: true,\n    json: false,\n    colorize: true\n  }\n};\n\nvar logger = winston.createLogger({\n  transports: [\n    new winston.transports.File(options.file),\n    new winston.transports.Console(options.console)\n  ],\n  exitOnError: false // do not exit on handled exceptions\n});\n\nlogger.stream = {\n  write: function(message, encoding) {\n    logger.info(message);\n  }\n};\n\nmodule.exports = logger;\n"]}